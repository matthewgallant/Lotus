{% extends 'base.html' %}

{% block title %}Add Card{% endblock %}

{% block main %}
    <h1>Add Card</h1>
    {% if request.args.error %}
        <div class="alert alert-danger" role="alert">{{ request.args.error }}</div>
    {% elif request.args.success %}
        <div class="alert alert-success" role="alert">{{ request.args.success }}</div>
    {% endif %}
    <form id="nameSearchForm">
        <div class="mt-3 d-flex align-items-center gap-3">
            <div class="w-100">
                <input class="form-control" list="nameListOptions" placeholder="Name" aria-label="Name" name="name" id="nameInput" autocomplete="off">
                <datalist id="nameListOptions"></datalist>
            </div>
            <button type="submit" class="btn btn-primary">Search</button>
        </div>
    </form>
    <div class="row" id="dataBody" hidden>
        <div class="col-12 col-md-3">
            <div class="sticky-top pt-3">
                <img class="img-fluid rounded-4" id="cardImage">
            </div>
        </div>
        <div class="col-12 col-md-9">
            <div class="table-responsive h-100">
                <table class="table table-striped table-bordered table-hover mt-3">
                    <thead class="sticky-top">
                        <tr>
                            <th scope="col">Set ID</th>
                            <th scope="col">Collector Number</th>
                            <th scope="col">Rarity</th>
                            <th scope="col">Regular Price</th>
                            <th scope="col">Foil Price</th>
                            <th scope="col"></th>
                            <th scope="col"></th>
                        </tr>
                    </thead>
                    <tbody class="align-middle" id="cardTableBody"></tbody>
                </table>
            </div>
        </div>
    </div>
    <div id="dataLoading" hidden>
        <div class="d-flex justify-content-center my-5">
            <div class="spinner-border" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
    </div>
    <div class="alert alert-danger mt-3" role="alert" id="dataError" hidden></div>
    <script src="{{ url_for('static', filename='js/add-card.js') }}"></script>
{% endblock %}
